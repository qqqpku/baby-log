# 宝宝成长记录 (Baby Growth Log)

一个简洁实用的宝宝日常记录应用，支持云端同步和本地存储，帮助父母轻松记录和追踪宝宝的成长数据。

## ✨ 主要特性

### 🔐 安全与存储
- **混合存储策略**：
  - **云端模式**：使用 Supabase 云数据库，数据永久保存，多设备同步。
  - **本地模式**：无网络或未配置云端时，自动降级使用 IndexedDB 本地存储。
- **数据隔离**：基于密码的简单认证系统，不同密码对应不同账户，数据互不可见。
- **隐私保护**：密码经过 SHA-256 哈希处理，确保安全性。

### 📝 记录功能
- **智能总结**：根据填写的喂养、睡眠等数据，自动生成文字总结（如"总母乳: 20分钟..."）。
- **编辑模式**：支持修改历史记录，且智能识别并保留用户的手动备注，不重复添加统计信息。
- **自动填充**：新建记录时自动带入上一次的身高、体重和喂养时间，减少重复输入。

### 📊 全面追踪
- **喂养**：母乳（左右时长）、配方奶/米粉（勺数/ml）、辅食种类。
- **睡眠**：记录多个睡眠时段，自动计算全天睡眠总时长。
- **生长**：身高、体重、体温、精神状态。
- **护理**：大便记录（性状/颜色）、补剂（AD/D3/DHA等）、日常护理（洗澡/抚触等）。
- **早教**：大动作（坐/爬/走）、精细动作、语言社交发展。

### 💾 数据管理
- **导出**：一键导出所有数据为 JSON 文件。
- **导入**：支持从 JSON 文件恢复数据（智能去重，导入为新副本）。

## 🛠️ 技术栈

- **前端框架**：React 19 + Vite
- **样式方案**：原生 CSS (Mobile-First Design)
- **云数据库**：Supabase (PostgreSQL)
- **本地数据库**：IndexedDB (idb)
- **部署平台**：Vercel

## 🚀 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 配置环境变量

复制 `.env.example` 为 `.env`，并填入您的 Supabase 配置：

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. 启动开发服务器

```bash
npm run dev
```

访问 `http://localhost:5173` 即可开始使用。

## 📱 界面展示

- **首页**：简洁的表单录入，大按钮设计方便单手操作。
- **历史页**：时间轴式展示，支持展开查看详情。
- **顶部栏**：只保留核心操作，"更多"菜单收纳低频功能（导入/导出/退出）。

## 📂 项目结构

```
src/
├── components/
│   ├── DailyLogForm.jsx    # 核心表单组件（含智能总结逻辑）
│   ├── LogHistory.jsx      # 历史记录列表
│   └── Login.jsx           # 密码认证组件
├── services/
│   ├── storage.js          # 存储抽象层（自动切换 Cloud/Local）
│   ├── supabase.js         # Supabase 客户端实现
│   ├── db.js               # IndexedDB 本地实现
│   └── auth.js             # 认证服务（Hash & Token）
├── utils/
│   └── schema.js           # 数据结构定义
└── App.jsx                 # 主应用逻辑与路由
```

## 📄 License

MIT
